(function(){"use strict";var e={899:function(e,n,t){var i=t(963),o=t(252);const r={class:"uk-container uk-container-expand"};function c(e,n){const t=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(t)])}t(346);var s=t(744);const u={},a=(0,s.Z)(u,[["render",c]]);var l=a,f=t(201),d=t(577),p={class:"uk-list uk-margin-top uk-width-1-2@m uk-width-1-1@s uk-list-striped"},h={"uk-grid":""},b=["onClick"],v=["title"],g=(0,o._)("div",{class:"uk-width-1-4 uk-text-right uk-hidden"},[(0,o._)("button",{class:"uk-icon-button uk-margin-small-right","uk-icon":"pencil"}),(0,o._)("button",{class:"uk-icon-button uk-margin-small-right","uk-icon":"check"}),(0,o._)("button",{class:"uk-icon-button uk-button-danger","uk-icon":"close"})],-1);function k(e,n,t,r,c,s){return(0,o.wg)(),(0,o.iD)("ul",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.$store.state.clips,(function(n){return(0,o.wg)(),(0,o.iD)("li",{key:n.id,class:(0,d.C_)(e.currentClipCssClass(n))},[(0,o._)("div",h,[(0,o._)("a",{class:"uk-width-expand uk-flex uk-flex-middle uk-link-text uk-link-reset",onClick:(0,i.iM)((function(t){return e.selectClip(n)}),["prevent"]),href:"#"},[(0,o._)("span",{class:"uk-text-truncate",title:n.content},(0,d.zw)(n.content),9,v)],8,b),g])],2)})),128))])}var m,w,_=t(486),C=t(907),y=function(){function e(e,n,t){var i=this;Object.defineProperty(this,"wsAddress",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"onReceive",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"onConnected",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"connection",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stash",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"connect",{enumerable:!0,configurable:!0,writable:!0,value:function(){var e=new WebSocket(i.wsAddress);e.onclose=function(){console.log("connection closed"),i.reconnect()},e.onopen=function(){console.log("connection opened"),i.connection=e,i.stash.forEach(i.sendMessage),i.stash=[],i.onConnected()},e.onerror=console.error.bind(console),e.onmessage=function(e){return i.onReceive(JSON.parse(e.data))}}}),Object.defineProperty(this,"reconnect",{enumerable:!0,configurable:!0,writable:!0,value:function(){i.connection=void 0,setTimeout(i.connect,5e3)}}),Object.defineProperty(this,"sendMessage",{enumerable:!0,configurable:!0,writable:!0,value:function(e){if(void 0==i.connection)return i.stash.push(e);i.connection.send(JSON.stringify(e))}})}return e}(),E="EmptySocketMessage",O=(m={},m[E]={WsGetClips:{}},m),P={NODE_ENV:"production",VUE_APP_SERVER_ADDRESS:"localhost:8000",VUE_APP_SERVER_HTTP:"http",VUE_APP_SERVER_WS:"ws",BASE_URL:"/"},S=P.VUE_APP_SERVER_ADDRESS,R=P.VUE_APP_SERVER_WS,j=new y("".concat(R,"://").concat(S,"/ws"),(function(e){var n=_.chain(e).keys().first().value();_.keys(x).includes(n)&&A.commit(n,e[n].payload)}),(function(){j.sendMessage(O)}));j.connect();var x={WsGotClips:function(e,n){e.clips=n},WsClipboardChanged:function(){j.sendMessage(O)}},V={selectClip:"select-clip"},A=(0,C.MT)({state:{clips:[]},getters:{},mutations:x,actions:(w={clips:function(e){j.sendMessage(O)}},w[V.selectClip]=function(e,n){j.sendMessage({WsSetClip:{payload:n}})},w)}),M=A,D=(0,o.aZ)({methods:{isCurrent:function(e){var n=this.$store.state.clips;return!!n.length&&_.first(n).id==e.id},currentClipCssClass:function(e){if(this.isCurrent(e))return{"current-clip":!0,"uk-text-bolder":!0}},selectClip:function(e){this.isCurrent(e)||this.$store.dispatch(V.selectClip,e.id)}}});const W=(0,s.Z)(D,[["render",k]]);var T=W,U=[{path:"/",name:"home",component:T}],N=(0,f.p7)({history:(0,f.PO)("/"),routes:U}),Z=N,$=t(612),G=t.n($),H=t(628),J=t.n(H);G().use(J()),(0,i.ri)(l).use(M).use(Z).mount("#app")}},n={};function t(i){var o=n[i];if(void 0!==o)return o.exports;var r=n[i]={id:i,loaded:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}t.m=e,function(){var e=[];t.O=function(n,i,o,r){if(!i){var c=1/0;for(l=0;l<e.length;l++){i=e[l][0],o=e[l][1],r=e[l][2];for(var s=!0,u=0;u<i.length;u++)(!1&r||c>=r)&&Object.keys(t.O).every((function(e){return t.O[e](i[u])}))?i.splice(u--,1):(s=!1,r<c&&(c=r));if(s){e.splice(l--,1);var a=o();void 0!==a&&(n=a)}}return n}r=r||0;for(var l=e.length;l>0&&e[l-1][2]>r;l--)e[l]=e[l-1];e[l]=[i,o,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,i){var o,r,c=i[0],s=i[1],u=i[2],a=0;if(c.some((function(n){return 0!==e[n]}))){for(o in s)t.o(s,o)&&(t.m[o]=s[o]);if(u)var l=u(t)}for(n&&n(i);a<c.length;a++)r=c[a],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(l)},i=self["webpackChunkclient"]=self["webpackChunkclient"]||[];i.forEach(n.bind(null,0)),i.push=n.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(899)}));i=t.O(i)})();
//# sourceMappingURL=app.ec7e13eb.js.map